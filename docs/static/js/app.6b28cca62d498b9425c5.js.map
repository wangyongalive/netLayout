{"version":3,"sources":["webpack:///src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue?5ed7","webpack:///./src/components/HelloWorld.vue","webpack:///src/App.vue","webpack:///./src/App.vue?fa0f","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["HelloWorld","name","data","fov","near","far","gData1","gData2","gData3","forceSate","flag","mounted","this","camera","scene","controls","renderer","stats","raycaster","mouse","InterSelected","light","color","getColor","labelRenderer","init","computed","statsInit","animate","guiInit","methods","three_module","width","window","innerWidth","height","innerHeight","up","layers","enable","position","z","x","y","lookAt","set","add","antialias","setClearColor","setSize","setPixelRatio","devicePixelRatio","document","getElementById","appendChild","domElement","CSS2DRenderer","style","top","three_trackballcontrols_default","a","$refs","WebGL","rotateSpeed","zoomSpeed","panSpeed","noZoom","noPan","staticMoving","dynamicDampingFactor","addEventListener","onWindowResize","onDocumentMouseMove","addObj","index","_this","self","geometrySphere","nodes","forEach","item","circle","opacity","transparent","links","material","vertexColors","color1","color2","geometry","vertices","push","source","target","colors","line","planeGeometry","plane","side","earthDiv","createElement","className","textContent","marginTop","earthLabel","requestAnimationFrame","update","render","begin","end","setFromCamera","intersects","intersectObjects","children","length","object","currentOpacity","commonNode","aspect","updateProjectionMatrix","第一层","第二层","第三层","gui","dat_gui_module","onChange","value","toggle","lableToggle","lineToggle","stats_min_default","showPanel","body","dom","event","preventDefault","clientX","clientY","layer","isShow","getElementsByClassName","visibility","N","concat","toConsumableArray_default","Array","keys","map","i","id","groups","filter","Math","round","random","forceLayout","simulation","_d3_4_13_0_d3","force","d","on","alpha","stop","data1","data2","arr1","arr2","v","includes","position1","position2","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","item1","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","item2","drawLine","p1","p2","console","log","visible","components_HelloWorld","_h","$createElement","_self","_c","ref","attrs","staticRenderFns","App","components","__webpack_require__","normalizeComponent","ssrContext","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","Vue","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.6b28cca62d498b9425c5.js","sourcesContent":["<template>\n  <div id=\"WebGL-output\" ref=\"WebGL\">\n\n  </div>\n</template>\n\n<script>\n  import * as THREE from 'three';\n  import TrackballControls from 'three-trackballcontrols';\n  import OrbitControls from 'three-orbitcontrols';\n  import {CSS2DRenderer, CSS2DObject} from 'three-css2drender';\n  import Stats from 'stats-js';\n  import * as dat from 'dat.gui';\n  import * as d3 from 'd3';\n  import {scaleOrdinal, schemeCategory20} from 'd3'\n\n  export default {\n    name: 'webgl',\n    data() {\n      return {\n        fov: 45,\n        near: 1,\n        far: 100000,\n        gData1: null,\n        gData2: null,\n        gData3: null,\n        forceSate: {},\n        flag: true\n      }\n    },\n    mounted() {\n      this.camera = null,\n        this.scene = null ,\n        this.controls = null ,\n        this.renderer = null,\n        this.stats = null,\n        this.raycaster = null,\n        this.mouse = null,\n        this.InterSelected = null,\n        this.light = null;\n      this.color = this.getColor();\n      this.labelRenderer = null;\n      this.init();\n      this.computed();\n      this.statsInit();\n      this.animate();\n      this.guiInit();\n    },\n    methods: {\n      init() {\n        let self = this;\n        this.mouse = new THREE.Vector2();\n        this.raycaster = new THREE.Raycaster();\n\n        let width = window.innerWidth;\n        let height = window.innerHeight;\n        // 创建场景\n        this.scene = new THREE.Scene();\n        // 初始化相机\n        this.camera = new THREE.PerspectiveCamera(this.fov, width / height, this.near, this.far);   //创建摄像机\n        this.camera.up = new THREE.Vector3(0, 1, 0); // 设置y轴向上\n        this.camera.layers.enable(0);\n        this.camera.layers.enable(1);\n        this.camera.layers.enable(2);\n        this.camera.layers.enable(3);\n        this.camera.position.z = 2299;\n        this.camera.position.x = -1906;\n        this.camera.position.y = -280;\n        // this.camera.lookAt({x: 0, y: 0, z: 0});\n        this.camera.lookAt(this.scene.position);\n\n\n        this.light = new THREE.AmbientLight(0xffffff);\n        this.light.position.set(1, 1, 1);\n        this.light.layers.enable(0);\n        this.light.layers.enable(1);\n        this.light.layers.enable(2);\n        this.light.layers.enable(3);\n        this.scene.add(this.light);\n\n\n        // 渲染器  使用WebGL渲染器  同时还支持canvas svg\n        this.renderer = new THREE.WebGLRenderer({\n          antialias: true\n        });\n        this.renderer.setClearColor(new THREE.Color(0x303030));\n        this.renderer.setSize(width, height);\n        this.renderer.setPixelRatio(window.devicePixelRatio);//为了兼容高清屏幕\n        document.getElementById(\"WebGL-output\").appendChild(self.renderer.domElement);\n\n        // label渲染器\n        this.labelRenderer = new CSS2DRenderer();\n        this.labelRenderer.setSize(window.innerWidth, window.innerHeight);\n        this.labelRenderer.domElement.style.position = 'absolute';\n        this.labelRenderer.domElement.style.top = 0;\n        document.getElementById(\"WebGL-output\").appendChild(this.labelRenderer.domElement);\n\n        // 初始化控制器\n        self.controls = new TrackballControls(this.camera, this.$refs.WebGL);\n        self.controls.rotateSpeed = 2.5;\n        self.controls.zoomSpeed = 1.2;\n        self.controls.panSpeed = 0.8;\n        self.controls.noZoom = false;\n        self.controls.noPan = false;\n        self.controls.staticMoving = true;\n        self.controls.dynamicDampingFactor = 0.3;\n\n        // 坐标系可视化\n        // let axesHelper = new THREE.AxesHelper(1000);\n        // self.scene.add(axesHelper);\n\n        // 添加窗口监听事件（resize-onresize即窗口或框架被重新调整大小）\n        window.addEventListener('resize', this.onWindowResize, false);\n        document.addEventListener('mousemove', this.onDocumentMouseMove, false);\n      },\n      addObj(data, index) {\n        let self = this;\n        // 添加圆\n        // 几何体  材质(设置颜色 透明度等 transparent要设置为true才能有效果)\n        let geometrySphere = new THREE.SphereGeometry(10, 10, 10);\n        data.nodes.forEach(item => {\n          let circle = new THREE.Mesh(geometrySphere, new THREE.MeshLambertMaterial({\n            color: self.color(index),\n            opacity: 0.5,\n            transparent: true\n          }));\n          circle.layers.set(index);\n          circle.position.set(item.x, item.y, index * 500);\n          this.scene.add(circle);\n        });\n\n        // 添加线\n        // 材质要单独添加 不然交互时 会同时触发\n        data.links.forEach(item => {\n          let material = new THREE.LineBasicMaterial({\n            opacity: 0.5,\n            transparent: true,\n            vertexColors: true // 支持颜色插值\n          });\n          let color1 = new THREE.Color(0x0000FF), color2 = new THREE.Color(0xFF0000);\n          // 声明一个几何体 给几何体添加位置节点和颜色\n          let geometry = new THREE.Geometry();\n          geometry.vertices.push(new THREE.Vector3(item.source.x, item.source.y, index * 500));\n          geometry.vertices.push(new THREE.Vector3(item.target.x, item.target.y, index * 500));\n          geometry.colors.push(color1, color2);\n          let line = new THREE.Line(geometry, material);\n          line.layers.set(index);\n          this.scene.add(line);\n        });\n\n        // 添加平面\n        // 材质要单独添加 不然交互时 会同时触发\n        //  常见几何材料\n        //  MeshBasicMaterial：用于以简单的阴影（平面或线框）方式绘制几何的材料。\n        //  MeshLambertMaterial：无光泽表面材质，无镜面高光。\n        //  MeshPhongMaterial：光泽表面材质，镜面高光，反射。\n        let planeGeometry = new THREE.PlaneGeometry(1000, 1000, 10, 10);\n        let plane = new THREE.Mesh(planeGeometry, new THREE.MeshLambertMaterial({\n          color: 0x202020,\n          // opacity: 0.5,\n          // transparent: true,\n          side: THREE.DoubleSide//两面可见\n        }));\n        plane.position.x = 0;\n        plane.position.y = 0;\n        plane.position.z = index * 500;\n        plane.layers.set(index);\n        this.scene.add(plane);\n        // label\n        let earthDiv = document.createElement('div');\n        earthDiv.className = `label th${index}`;\n        earthDiv.textContent = `第${index}层`;\n        earthDiv.style.marginTop = '-1em';\n        let earthLabel = new CSS2DObject(earthDiv);\n        earthLabel.position.set(0, 0, 0);\n        plane.add(earthLabel); // 将标签添加到网格模型中\n\n      },\n      animate() {\n        requestAnimationFrame(this.animate);\n        this.controls.update(); // only required if controls.enableDamping = true, or if controls.autoRotate = true\n        this.render();\n        self.stats.begin();\n        self.stats.end();\n      },\n      render() {\n        let self = this;\n        /*交互开始*/\n        self.raycaster.setFromCamera(self.mouse, self.camera);\n        let intersects = self.raycaster.intersectObjects(self.scene.children);\n        // 有目标被选中\n        if (intersects.length > 0) {\n          if (self.InterSelected != intersects[0].object) {\n            if (self.InterSelected)\n              self.InterSelected.material.opacity = self.InterSelected.currentOpacity;\n\n            self.InterSelected = intersects[0].object;\n            self.InterSelected.currentOpacity = self.InterSelected.material.opacity;\n            self.InterSelected.material.opacity = 1;\n          }\n        } else { // 没有目标被选中\n          if (self.InterSelected) // 变为原来的样式\n            self.InterSelected.material.opacity = self.InterSelected.currentOpacity;\n          self.InterSelected = null;\n        }\n        /*交互结束*/\n        if (self.flag && self.forceSate[0] && self.forceSate[1] && self.forceSate[2]) {\n          self.flag = false;\n          // 分别求相交的数据集合 并绘制出线\n          self.commonNode(self.gData1, self.gData2);\n          self.commonNode(self.gData1, self.gData3);\n          self.commonNode(self.gData2, self.gData3);\n        }\n        self.renderer.render(self.scene, self.camera);\n        self.labelRenderer.render(self.scene, self.camera);\n      },\n      onWindowResize() {\n        let self = this;\n        self.camera.aspect = window.innerWidth / window.innerHeight;\n        self.camera.updateProjectionMatrix();\n        self.renderer.setSize(window.innerWidth, window.innerHeight);\n      },\n      guiInit() {\n        let self = this;\n        let layers = {第一层: true, 第二层: true, 第三层: true};\n        const gui = new dat.GUI();\n        gui.add(layers, '第一层').onChange(value => {\n          self.camera.layers.toggle(0);\n          self.lableToggle(0, value);\n          self.lineToggle(0, value);\n        });\n        gui.add(layers, '第二层').onChange(value => {\n          self.camera.layers.toggle(1);\n          self.lableToggle(1, value);\n          self.lineToggle(1, value);\n        });\n        gui.add(layers, '第三层').onChange(value => {\n          self.camera.layers.toggle(2);\n          self.lableToggle(2, value);\n          self.lineToggle(2, value);\n        });\n      },\n      statsInit() {\n        self.stats = new Stats();\n        self.stats.showPanel(0);  // 0: fps, 1: ms, 2: mb, 3+: custom\n        document.body.appendChild(stats.dom);\n      },\n      onDocumentMouseMove(event) {\n        let self = this;\n        event.preventDefault();\n        self.mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\n        self.mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n      },\n      /*切换标签*/\n      lableToggle(layer, isShow) {\n        isShow === true ?\n          document.getElementsByClassName(`label th${layer}`)[0].style.visibility = 'visible' :\n          document.getElementsByClassName(`label th${layer}`)[0].style.visibility = 'hidden'\n      },\n      computed() {\n        let self = this;\n        const N = 100;\n        // 0- N不包括N\n        this.gData1 = {\n          // 生成从0-N 不包括N的数组\n          nodes: [...Array(N).keys()].map(i => ({id: i, groups: 0})),\n          // filter过滤id为0的数值\n          // Math.random()  [0,1)\n          // Math.round(x)\n          links: [...Array(N).keys()]\n            .filter(id => id)\n            .map(id => ({\n              source: id,\n              target: Math.round(Math.random() * (id - 1))\n            }))\n        };\n\n        this.gData2 = {\n          nodes: [...Array(N).keys()].map(i => ({id: i + 90, groups: 1})),\n          links: [...Array(N).keys()]\n            .filter(id => id)\n            .map(id => ({\n              source: id + 90,\n              target: Math.round(Math.random() * (id - 1)) + 90\n            }))\n        };\n\n        this.gData3 = {\n          nodes: [...Array(N).keys()].map(i => ({id: i + 180, groups: 2})),\n          links: [...Array(N).keys()]\n            .filter(id => id)\n            .map(id => ({\n              source: id + 180,\n              target: Math.round(Math.random() * (id - 1)) + 180\n            }))\n        };\n\n        // 分别使用力导向图\n        self.forceLayout(self.gData1, 0);\n        self.forceLayout(self.gData2, 1);\n        self.forceLayout(self.gData3, 2);\n      },\n      forceLayout(data, index) {\n        let self = this;\n        const simulation = d3.forceSimulation()\n          .force('link', d3.forceLink().id((d) => d.id))\n          .force('charge', d3.forceManyBody())\n          .force('center', d3.forceCenter(0, 0));\n\n        let ticked = function () {\n          if (simulation.alpha() <= 0.01) {\n            self.addObj(data, index);\n            simulation.stop(); // 停止力模拟\n            self.forceSate[index] = true;\n          }\n        };\n        simulation\n          .nodes(data.nodes)\n          .on('tick', ticked);\n\n        simulation.force('link')\n          .links(data.links);\n      },\n      getColor() {\n        // 要成为一个全局函数 每个比例尺都是独立的\n        return d3.scaleOrdinal(d3.schemeCategory10);\n      },\n      commonNode(data1, data2) {\n        let self = this;\n        let arr1 = data1.nodes.map(item => item.id);\n        let arr2 = data2.nodes.map(item => item.id);\n        let interaction = arr1.filter(v => arr2.includes(v));\n        interaction.forEach(item => {\n          let position1 = {}, position2 = {};\n          for (let item1 of data1.nodes) {\n            if (item1.id == item) {\n              position1 = {x: item1.x, y: item1.y, z: item1.groups * 500, groups: item1.groups};\n              break;\n            }\n          }\n          for (let item2 of data2.nodes) {\n            if (item2.id == item) {\n              position2 = {x: item2.x, y: item2.y, z: item2.groups * 500, groups: item2.groups}\n              break;\n            }\n          }\n          self.drawLine(position1, position2);\n        })\n      },\n      drawLine(p1, p2) {\n        let self = this;\n        let material = new THREE.LineBasicMaterial({\n          opacity: 0.5,\n          transparent: true,\n          vertexColors: true // 支持颜色插值\n        });\n        let color1 = new THREE.Color(self.color(p1.groups)), color2 = new THREE.Color(self.color(p2.groups));\n\n        // 声明一个几何体 给几何体添加位置节点和颜色\n        let geometry = new THREE.Geometry();\n        geometry.vertices.push(new THREE.Vector3(p1.x, p1.y, p1.z));\n        geometry.vertices.push(new THREE.Vector3(p2.x, p2.y, p2.z));\n        geometry.colors.push(color1, color2);\n        let line = new THREE.Line(geometry, material);\n        line.name = `${p1.groups}_${p2.groups}`;\n        line.layers.set(3); //  要设置为3 默认为0\n        this.scene.add(line);\n      },\n      /*切换线条*/\n      lineToggle(index, value) {\n        console.log(index);\n        let self = this;\n        self.scene.children.forEach(item => {\n          if (item.name.includes(`${index}`)) {\n            item.visible = value;\n          }\n        });\n      },\n    }\n  }\n</script>\n\n<style scoped>\n  #WebGL-output {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 0; /* to not conflict with dat.gui */\n  }\n\n  #WebGL-output >>> .label {\n    color: #FFF;\n    font-family: sans-serif;\n    padding: 2px;\n    background: rgba(0, 0, 0, .6);\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"WebGL\",attrs:{\"id\":\"WebGL-output\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8b0561ae\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8b0561ae\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8b0561ae\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8b0561ae\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <HelloWorld/>\n  </div>\n</template>\n\n<script>\n  import HelloWorld from './components/HelloWorld';\n\n  export default {\n    name: 'App',\n    components: {\n      HelloWorld\n    }\n  }\n</script>\n\n<style>\n  * {\n    margin: 0;\n    padding: 0;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('HelloWorld')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e161c08\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e161c08\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e161c08\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}